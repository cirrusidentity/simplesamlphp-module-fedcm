<html>

<head>
    <title>hi</title>
</head>

<body>
    <script>
        function dec2hex (dec) {
            return dec.toString(16).padStart(2, "0")
        }

        // generateId :: Integer -> String
        function generateId (len) {
            var arr = new Uint8Array((len || 40) / 2)
            window.crypto.getRandomValues(arr)
            return Array.from(arr, dec2hex).join('')
        }

        (async () => {
            const credential = await navigator.credentials.get({
                identity: {
                    providers: [{
                        // need to set the base URL to your own ngrok URL (or other resolvable https endpoint) 
                        configURL: 'https://something.ngrok.io/sample-idp/module.php/fedcm/manifest',
                        clientId: 'https://sp.college.edu/sp',
                        nonce: generateId(10)
                    }]
                }
            });
            const { token } = credential;
            console.log("*** token = ", atob(token));
        })();
    </script>
</body>

</html>